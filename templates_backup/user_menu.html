<!-- User menu - to be included in all templates -->
<div class="user-menu">
    {% if current_user.is_authenticated %}
        <!-- Logged in user dropdown -->
        <div class="user-dropdown">
            <button class="user-button" onclick="toggleDropdown()">
                <span class="user-icon">ðŸ‘¤</span>
                <span class="user-email">{{ current_user.email }}</span>
                <span class="dropdown-arrow">â–¼</span>
            </button>
            <div class="dropdown-menu" id="userDropdown">
                <a href="{{ url_for('calculation_history') }}" class="dropdown-item">
                    ðŸ“Š My Calculations
                </a>
                {% if current_user.is_administrator() %}
                    <div class="dropdown-divider"></div>
                    <a href="{{ url_for('admin_dashboard') }}" class="dropdown-item">
                        ðŸ‘‘ Admin Panel
                    </a>
                {% endif %}
                <div class="dropdown-divider"></div>
                <a href="{{ url_for('logout') }}" class="dropdown-item logout">
                    ðŸšª Logout
                </a>
            </div>
        </div>
    {% else %}
        <!-- Not logged in buttons -->
        <div class="auth-buttons">
            <a href="{{ url_for('login') }}" class="auth-btn login-btn">Login</a>
            <a href="{{ url_for('register') }}" class="auth-btn signup-btn">Sign Up</a>
        </div>
    {% endif %}
</div>
